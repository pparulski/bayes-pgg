<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap">
    <title>Instructions</title>
    <script>
        (function() {
            window.history.pushState(null, null, window.location.href);
            window.onpopstate = function() {
                window.history.go(1);
            };
        })();
    </script>
    <style>
        body { text-align: center; margin: 50px auto; font-size: 20px; padding: 20px; max-width: 100%; font-family: 'Roboto', sans-serif;}
        p { max-width: 90%; margin: 20px auto; line-height: 1.5; font-size: 25px; font-family: 'Roboto', sans-serif;}
        .highlight { font-weight: bold; color: #007BFF; }
        .message { color: #007BFF; font-size: 22px; margin-bottom: 20px; }
        button { 
            border-radius: 16px; 
            padding: 20px 40px; 
            margin: 15px; 
            font-size: 28px; 
            width: 100%; 
            max-width: 250px; 
            background-color: #007BFF; 
            color: white; 
            border: none; 
            cursor: pointer; 
            font-family: 'Roboto', sans-serif;
        }
        button:hover {
            background-color: #0056b3; 
        }

        /* Mobile and tablet responsiveness */
        @media only screen and (max-width: 768px) {
            body { font-size: 20px; margin-top: 30px; padding: 25px; }
            p { font-size: 20px; line-height: 1.5; margin-bottom: 25px; }
            .message { font-size: 20px; }
            button {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <h1>Instructions</h1>
    {% if training_ended %}
        <p class="message">The training has ended. Your final balance was <span class="highlight">{{ participant_balance }}</span>. Click the button at the bottom to begin the task.</p>
    {% endif %}
    <p>In this game, you start with <span class="highlight">20</span> tokens. In each round, you can contribute between <span class="highlight">0</span> and <span class="highlight">10</span> tokens. If the total contribution of both you and the AI exceeds <span class="highlight">10</span>, that total will be multiplied by <span class="highlight">1.5</span>. In both cases, the total tokens will be split in half and divided between both players. If there is a remainder left after dividing, it is transferred to the next round. Your goal is to collect as many tokens as possible at the end of the session. The game ends early if one of the players is left with <span class="highlight">0</span> tokens.</p>
    <p>In each round, you need to click or tap the button corresponding to the number of tokens you want to contribute to the common pool. You have <span class="highlight">8 seconds</span> to do this. During the round, you will be presented with your current balance. After making the decision, the round ends and you will see the outcome for the round. After 10 rounds, the first session ends. Before the second session begins, a short message will be displayed. Once the second session ends, you will see the total results for both you and AI.</p>
    <p>To demonstrate, you will go through quick session with 5 training rounds, in which AI will contribute a fixed amount of 5. If you click the button below, the training will start immediately. Once you're ready, proceed by clicking the button below.<p/>

    {% if training_ended %}
        <a href="{{ url_for('start') }}"><button>Begin Task</button></a>
    {% else %}
        <a href="{{ url_for('training') }}"><button>Start Training</button></a>
    {% endif %}
</body>
</html>
